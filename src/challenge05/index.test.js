import { escapePyramidHead } from './index.js'

describe('escapePyramidHead', () => {
  test.each([
    // [grid, expected]
    [
      [
        ['T', '.', '#', '.'],
        ['.', '.', '.', '.'],
        ['▲', '.', '.', '#'],
        ['.', '#', '#', '#']
      ], 2
    ],
    [
      [
        ['.', '.', '#', '.', '▲'],
        ['#', '.', '#', '.', '#'],
        ['.', '.', '.', '.', '.'],
        ['#', '#', '#', '.', '#'],
        ['T', '.', '.', '.', '.']
      ], 8
    ],
    [
      [
        ['#', '#', '#'],
        ['▲', '.', '#'],
        ['.', '#', 'T']
      ], -1
    ],
    [
      [
        ['#', '#'],
        ['▲', 'T']
      ], 1
    ],
    [
      [
        ['.', '.', '.'],
        ['T', '▲', '.'],
        ['.', '.', '.']
      ], 1
    ],
  ])('grid #%# => %d', (grid, expected) => {
    expect(escapePyramidHead(grid)).toBe(expected)
  })
})